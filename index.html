<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Afterim Link — Short. Smart. Secure.</title>
  <meta name="description" content="Afterim Link: short link + QR + security scan anti phishing/malware/adware.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --ink:#0f172a;          /* text dark */
      --ink-weak:#475569;     /* text secondary */
      --muted:#f1f5f9;        /* soft gray bg */
      --card:#ffffff;
      --ring:#e2e8f0;
      --accent:#ff4d2e;       /* sunset mid */
      --accent2:#ff8a00;      /* sunset end */
      --shadow:0 10px 40px rgba(2,6,23,.09);
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;color:var(--ink);background:#fff}
    a{color:var(--ink);text-decoration:none}
    .container{max-width:1120px;margin:0 auto;padding:22px}
    .center{text-align:center}

    /* Header */
    header{position:sticky;top:0;background:#fff;border-bottom:1px solid var(--ring);z-index:50;backdrop-filter:saturate(140%) blur(6px)}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:14px}
    .logo{display:flex;align-items:baseline;font-weight:800;letter-spacing:.2px;font-size:26px}
    .logo span{color:#111}
    .logo .e{
      background:linear-gradient(90deg,var(--accent) 0%, var(--accent2) 100%);
      -webkit-background-clip:text;background-clip:text;color:transparent;
      display:inline-block;transform:translateY(1px)
    }
    .tagline{font-size:13px;color:var(--ink-weak)}
    .navlinks{display:flex;gap:18px;align-items:center}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 18px;border-radius:14px;border:1px solid var(--ring);background:#fff;font-weight:600;transition:transform .08s ease, box-shadow .2s ease}
    .btn:hover{transform:translateY(-1px);box-shadow:0 6px 18px rgba(2,6,23,.06)}
    .btn.primary{background:var(--ink);color:#fff;border-color:var(--ink)}
    .btn.accent{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff;border:none}

    /* Burger & Mobile Menu */
    .burger{
      display:none; width:42px; height:42px; border-radius:12px;
      border:1px solid var(--ring); background:#fff; cursor:pointer;
      align-items:center; justify-content:center; padding:0;
    }
    .burger:focus-visible{ outline:3px solid #94a3b8; outline-offset:2px }
    .burger i, .burger i::before, .burger i::after{
      content:""; display:block; width:20px; height:2px; background:#0f172a; border-radius:2px;
      transition:transform .2s ease, opacity .2s ease;
    }
    .burger i::before{ transform:translateY(-6px) }
    .burger i::after{ transform:translateY(6px) }
    .burger.active i{ background:transparent }
    .burger.active i::before{ transform:rotate(45deg) }
    .burger.active i::after{ transform:rotate(-45deg) }
    .mobile-menu{
      position:fixed; top:64px; right:16px; left:16px; z-index:60;
      background:#fff; border:1px solid var(--ring); border-radius:16px;
      box-shadow:var(--shadow); padding:12px; display:none;
    }
    .mobile-menu.open{ display:block }
    .mobile-menu a{
      display:block; padding:12px 10px; border-radius:12px; font-weight:600;
    }
    .mobile-menu a:hover{ background:var(--muted) }

    /* Hero */
    .hero{padding:56px 0}
    .hero-grid{display:grid;grid-template-columns:1.2fr .8fr;gap:28px;align-items:center}
    h1{font-size:46px;line-height:1.06;margin:0 0 14px}
    p.lead{font-size:18px;color:var(--ink-weak);margin:0 0 24px}

    /* Panel demo simple */
    .panel{background:var(--card);border:1px solid var(--ring);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}
    .chip{display:inline-flex;gap:8px;align-items:center;padding:8px 12px;border-radius:999px;background:#ecfdf5;color:#065f46;border:1px solid #a7f3d0;font-size:12px}
    .field{display:flex;gap:10px}
    input[type="url"],input[type="text"]{
      width:100%;padding:14px 14px;border:1px solid var(--ring);
      border-radius:14px;font-size:15px;background:#fff;outline:none;transition:border-color .15s ease
    }
    input[type="url"]:focus,input[type="text"]:focus{border-color:#94a3b8}
    .mini{font-size:12px;color:var(--ink-weak);margin-top:8px}
    .result-line{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center;margin-top:14px}

    /* Sections */
    section{padding:64px 0}
    .sec-head{display:flex;align-items:end;justify-content:space-between;margin-bottom:18px;gap:12px;flex-wrap:wrap}
    .sec-head h2{margin:0;font-size:28px}
    .cards{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .card{background:#fff;border:1px solid var(--ring);border-radius:16px;padding:18px;box-shadow:var(--shadow)}
    .feature h3{margin:8px 0 6px;font-size:18px}
    .feature p{margin:0;color:var(--ink-weak);font-size:14px}

    table{width:100%;border-collapse:collapse;background:#fff;border:1px solid var(--ring);border-radius:14px;overflow:hidden}
    thead th{background:var(--muted);font-size:14px;text-align:left;padding:12px;border-bottom:1px solid var(--ring)}
    tbody td{padding:12px;border-bottom:1px solid var(--ring);font-size:14px}
    .tick{display:inline-block;width:18px;height:18px;border-radius:4px;background:#10b981}
    .cross{display:inline-block;width:18px;height:18px;border-radius:4px;background:#ef4444}

    .pricing{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .price h3{margin:0 0 6px}.price .amt{font-size:32px;font-weight:800;margin:10px 0}

    .foot{border-top:1px solid var(--ring);padding:22px 0;color:var(--ink-weak);font-size:14px}

    /* Video responsive 16:9 */
    .video-wrap{position:relative;width:100%;border:1px solid var(--ring);border-radius:18px;overflow:hidden;box-shadow:var(--shadow);background:#000}
    .video-wrap::before{content:"";display:block;padding-top:56.25%} /* 16:9 */
    .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

    /* Animations */
    .reveal{opacity:0;transform:translateY(12px);transition:opacity .5s ease, transform .5s ease}
    .reveal.show{opacity:1;transform:none}

    /* Responsive */
    @media (max-width:1024px){
      .hero-grid{grid-template-columns:1fr}
    }
    @media (max-width:920px){
      .cards,.pricing{grid-template-columns:1fr}
    }
    @media (max-width:720px){
      .navlinks{ display:none }     /* sembunyikan menu desktop */
      .burger{ display:inline-flex }/* tampilkan burger */
      h1{font-size:36px}
      .panel{padding:16px}
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="logo" aria-label="Afterim">
          <span>aft<span class="e">e</span>rim</span>
        </div>
        <div class="tagline">Short. Smart. Secure.</div>
      </div>

      <!-- Menu desktop -->
      <nav class="navlinks" aria-label="Primary">
        <a href="#fitur">Fitur</a>
        <a href="#berkenalan">Video</a>
        <a href="#bundle">Link-in-Bio</a>
        <a href="#pricing">Harga</a>
        <a class="btn" href="#demo">Coba Demo</a>
        <a class="btn primary" href="#">Masuk</a>
      </nav>

      <!-- Burger (mobile) -->
      <button class="burger" id="burger" aria-label="Buka menu" aria-expanded="false" aria-controls="mobileMenu">
        <i></i>
      </button>
    </div>

    <!-- Panel menu mobile -->
    <nav class="mobile-menu" id="mobileMenu" aria-label="Mobile">
      <a href="#fitur">Fitur</a>
      <a href="#berkenalan">Video</a>
      <a href="#bundle">Link-in-Bio</a>
      <a href="#pricing">Harga</a>
      <a class="btn" href="#demo" style="margin:6px 8px">Coba Demo</a>
      <a class="btn primary" href="#" style="margin:6px 8px">Masuk</a>
    </nav>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="container hero-grid">
      <div class="reveal">
        <h1>Short link yang <span style="background:linear-gradient(90deg,var(--accent),var(--accent2));-webkit-background-clip:text;background-clip:text;color:transparent">aman</span> dan <b>gratis</b>.</h1>
        <p class="lead">Afterim Link menggabungkan pemendek tautan, QR code generator, dan <b>security scan</b> link.</p>
        <div class="grid" style="grid-template-columns:1fr auto;gap:12px;margin-top:12px">
          <a class="btn primary" href="#demo">Coba Sekarang</a>
          <a class="btn accent" href="#pricing">Lihat Harga</a>
        </div>
        <div class="mini" style="margin-top:10px">• Scan keamanan otomatis • Custom slug • Custom domain • API</div>
      </div>

      <!-- DEMO SIMPLE -->
      <div class="panel reveal" id="demo" aria-label="Demo Shortener">
        <div class="chip">Shield by Afterim — URL discan untuk memastikan web tidak mengandung phishing/malware/adware</div>

        <div style="height:12px"></div>
        <form id="shortForm" onsubmit="return simpleShort(event)">
          <label class="mini">Tempel URL kamu</label>
          <div class="field" style="margin-bottom:10px">
            <input type="url" id="longUrl" placeholder="https://contoh.com/halaman/promo?ref=WA" required>
          </div>

          <label class="mini">Custom slug (opsional)</label>
          <div class="field" style="margin-bottom:14px">
            <input type="text" id="slugInput" placeholder="misal: datapegawai">
          </div>

          <button class="btn primary" type="submit" style="width:100%">Shorten</button>
        </form>

        <!-- Hasil -->
        <div id="resultWrap" style="display:none;margin-top:16px">
          <div class="result-line">
            <div class="mini" id="shortLinkText" style="font-size:15px;color:#065f46"></div>
            <button class="btn" id="copyBtn" onclick="copyShort()">Copy</button>
          </div>

          <!-- QR valid -->
          <div id="qrWrap" style="margin-top:14px;display:flex;gap:14px;align-items:center">
            <div id="qrcode" style="width:164px;height:164px;border:1px solid var(--ring);border-radius:12px;display:grid;place-items:center;background:#fff"></div>
            <div class="mini">
              <div><b>QR Code siap</b></div>
              <div>Unduh: <a href="#" id="dlPng">PNG</a></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Fitur -->
  <section id="fitur">
    <div class="container">
      <div class="sec-head">
        <h2>Nilai Utama Afterim Link</h2>
        <span class="chip" style="background:var(--muted);color:var(--ink-weak);border:1px solid var(--ring)">All-in-One: Short • QR • Bundle • Security</span>
      </div>
      <div class="cards">
        <div class="card feature reveal">
          <h3>Custom Branded Link</h3>
          <p>Domain afterim.com atau domain milikmu, slug singkat dan mudah diingat.</p>
        </div>
        <div class="card feature reveal">
          <h3>Security Scan</h3>
          <p>Deteksi phishing, malware, dan adware sebelum link dipublikasikan. Amankan setiap klik.</p>
        </div>
        <div class="card feature reveal">
          <h3>QR Code Generator</h3>
          <p>Otomatis, bisa pilih warna & logo—cocok untuk poster, kemasan, atau kartu nama.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Berkenalan (YouTube) -->
  <section id="berkenalan" style="background:var(--muted)">
    <div class="container">
      <div class="sec-head">
        <h2>Mari Berkenalan dengan Afterim</h2>
        <span class="chip" style="background:#fff;border:1px solid var(--ring)">Tonton video perkenalan singkat</span>
      </div>
      <div class="video-wrap reveal">
        <iframe
          src="https://www.youtube.com/embed/VUFr4SK1-l4"
          title="Afterim Link - Perkenalan"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          referrerpolicy="strict-origin-when-cross-origin"
          allowfullscreen>
        </iframe>
      </div>
    </div>
  </section>

  <!-- Positioning -->
  <section>
    <div class="container">
      <div class="sec-head">
        <h2>Positioning Comparison</h2>
        <span class="chip">Kenapa Afterim lebih unggul</span>
      </div>
      <div class="panel reveal" style="padding:0">
        <table aria-label="Positioning Comparison">
          <thead>
          <tr>
            <th>Feature</th><th>Bit.ly</th><th>s.id</th><th>Linktree</th><th>Afterim Link</th>
          </tr>
          </thead>
          <tbody>
          <tr><td>Short Link</td><td><span class="tick"></span></td><td><span class="tick"></span></td><td><span class="cross"></span></td><td><span class="tick"></span></td></tr>
          <tr><td>Custom Slug</td><td><span class="tick"></span> <span class="mini">(premium)</span></td><td><span class="tick"></span></td><td><span class="cross"></span></td><td><span class="tick"></span></td></tr>
          <tr><td>QR Code</td><td><span class="tick"></span> <span class="mini">(basic)</span></td><td><span class="cross"></span></td><td><span class="cross"></span></td><td><span class="tick"></span> <span class="mini">(custom)</span></td></tr>
          <tr><td>Link-in-Bio Page</td><td><span class="cross"></span></td><td><span class="cross"></span></td><td><span class="tick"></span></td><td><span class="tick"></span></td></tr>
          <tr><td><b>Security Scan</b></td><td><span class="cross"></span></td><td><span class="cross"></span></td><td><span class="cross"></span></td><td><span class="tick"></span></td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Pricing -->
  <section id="pricing" style="background:var(--muted)">
    <div class="container">
      <div class="sec-head">
        <h2>Harga yang Simple</h2>
        <span class="chip" style="background:#fff;border:1px solid var(--ring)">Bisa upgrade kapan saja</span>
      </div>
      <div class="pricing">
        <div class="card price reveal">
          <h3>Starter</h3>
          <div class="amt">Gratis</div>
          <p class="mini">Short link dasar, custom slug, QR code basic.</p>
          <a class="btn" href="#">Mulai Gratis</a>
        </div>
        <div class="card price reveal" style="border:2px solid var(--ink)">
          <h3>Pro</h3>
          <div class="amt">Rp49.000/bln</div>
          <p class="mini">Template bundle premium, export data, API.</p>
          <a class="btn primary" href="#">Coba Pro</a>
        </div>
        <div class="card price reveal">
          <h3>Business</h3>
          <div class="amt">Hubungi Kami</div>
          <p class="mini">Custom domain, multi-user, SLA & dukungan prioritas.</p>
          <a class="btn" href="#">Kontak Sales</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <div class="foot">
    <div class="container center">
      <div class="logo" style="justify-content:center;margin-bottom:6px"><span>aft<span class="e">e</span>rim</span></div>
      <div>© <span id="y"></span> Afterim. Short. Smart. Secure.</div>
    </div>
  </div>

  <!-- QRCode library (valid QR) -->
  <script src="./assets/js/qrcode.min.js"></script>

  <script>
    // =========================
    // KONFIGURASI BACKEND (GAS)
    // Ganti dengan URL Web App Google Apps Script lo:
    // Contoh: "https://script.google.com/macros/s/DEPLOY_ID/exec"
    const API_URL = "https://script.google.com/macros/s/AKfycbwu2T-cw79To5QwuSJIv_xWke6CnTi9sVPIo3H90DktbUxlQLuIkegb-99etmshKpGm/exec"; // <-- ISI DI SINI
    // =========================

    // Toggle burger menu mobile
    const burger = document.getElementById('burger');
    const mobileMenu = document.getElementById('mobileMenu');
    function toggleMenu(open){
      const willOpen = (typeof open === 'boolean') ? open : !mobileMenu.classList.contains('open');
      mobileMenu.classList.toggle('open', willOpen);
      burger.classList.toggle('active', willOpen);
      burger.setAttribute('aria-expanded', String(willOpen));
    }
    burger.addEventListener('click', ()=> toggleMenu());
    mobileMenu.addEventListener('click', (e)=>{ if(e.target.tagName==='A') toggleMenu(false); });
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') toggleMenu(false); });
    document.addEventListener('click', (e)=>{
      if(!mobileMenu.contains(e.target) && !burger.contains(e.target)) toggleMenu(false);
    });

    // Reveal on scroll
    const reveals = document.querySelectorAll('.reveal');
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); io.unobserve(e.target);} });
    },{threshold:.12});
    reveals.forEach(el=>io.observe(el));

    // Utilities
    function randSlug(n=5){ return Math.random().toString(36).slice(2,2+n); }

    // Demo shortener + valid QR (via GAS)
    async function simpleShort(e){
      e.preventDefault();
      const url = document.getElementById('longUrl').value.trim();
      const custom = (document.getElementById('slugInput').value || '').trim()
        .replace(/[^a-zA-Z0-9-_]/g,'').toLowerCase();

      if(!/^https?:\/\//i.test(url)){
        alert('URL harus diawali http:// atau https://'); return false;
      }
      if(!API_URL){
        alert('Set dulu API_URL ke Web App GAS lo.'); return false;
      }

      try{
        const resp = await fetch(API_URL + '?action=shorten', {
          method:'POST',
          headers:{ 'Content-Type':'text/plain;charset=utf-8' },
          body: JSON.stringify({ long_url: url, slug: custom })
        });
        const data = await resp.json().catch(()=>({ok:false,error:'Bad response'}));
        if(!resp.ok || !data.ok){
          alert('Gagal: ' + (data.error || ('HTTP '+resp.status)));
          return false;
        }

        const shortUrl = data.short_url; // dari GAS
        const out = document.getElementById('shortLinkText');
        out.innerHTML = (data.secure ? 'Link aman ✔ — ' : 'Perlu verifikasi — ') + `<b>${shortUrl}</b>`;
        out.dataset.url = shortUrl;
        document.getElementById('resultWrap').style.display = 'block';

        // generate QR valid
        const qrel = document.getElementById('qrcode');
        qrel.innerHTML = '';
        new QRCode(qrel, {
          text: shortUrl, width: 160, height: 160,
          colorDark : "#111827", colorLight : "#ffffff",
          correctLevel : QRCode.CorrectLevel.M
        });

        // set unduhan PNG
        setTimeout(()=>{
          const img = qrel.querySelector('img') || qrel.querySelector('canvas');
          if(img && img.toDataURL){
            document.getElementById('dlPng').href = img.toDataURL("image/png");
            document.getElementById('dlPng').download = 'afterim-qr.png';
          }else if(img && img.src){
            document.getElementById('dlPng').href = img.src;
            document.getElementById('dlPng').download = 'afterim-qr.png';
          }
        }, 120);

      }catch(err){
        alert('Request error: ' + err.message);
      }

      return false;
    }

    async function copyShort(){
      const out = document.getElementById('shortLinkText');
      const text = out.dataset.url || '';
      if(!text) return;
      try{
        await navigator.clipboard.writeText(text);
        const btn = document.getElementById('copyBtn');
        const old = btn.textContent;
        btn.textContent = 'Copied!';
        btn.classList.add('accent'); btn.classList.remove('primary');
        setTimeout(()=>{ btn.textContent=old; btn.classList.remove('accent'); btn.classList.add('primary'); }, 900);
      }catch(e){ alert('Gagal menyalin'); }
    }

    // year
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>

